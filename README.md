[![MIT License][license-shield]][license-url]
[![Python][python-shield]][python-url]
[![GitHub][github-shield]][github-url]
[![LinkedIn][linkedin-shield]][linkedin-url]

<!-- PROJECT LOGO -->
<br />
<p align="center">
  <a href="https://github.com/dang-trung/stocktwits-sentiment-classifier">
    <img src="https://raw.githubusercontent.com/othneildrew/Best-README-Template/master/images/logo.png" alt="Logo" width="80" height="80">
  </a>

  <h3 align="center">StockTwits Sentiment Classifier</h3>
</p>
  <p align="center">
    An Application of Random Forest!
  </p>
  
## Project Description
### Introduction

* **Objective**: Project for my intern at [Research Center VERA](https://www.unive.it/pag/35190/), Ca' Foscari University of Venice.
* **Abstract**: 2,045,322 cryptocurrency-related Tweets (~287MB) are retrieved
    using [StockTwits API](https://api.stocktwits.com/developers/docs). The messages
    are posted from 28/11/2014 to 25/07/2020. Nearly half of those messages are 
    labelled with sentiment (i.e. Bullish/Bearish). Based on the labeled dataset, a Random Forest model is then 
    trained to classify the sentiments of Tweets about cryptocurrencies, resulting in a 74.75% prediction accuracy on test set.

* **Status**: Completed.

### Methods Used
* Text-processing, inspired by [Renault (2017)](https://doi.org/10.1016/j.jbankfin.2017.07.002) and [Chen et al. (2019)](https://doi.org/10.2139/ssrn.3398423).
* TF-IDF (for text-vectorization).
* Truncated SVD (for dimension reduction).
* Random Forest.

### Dependencies
* Python 3
* numpy==1.18.5
* pandas==1.0.5
* scikit-learn==0.23.2
## Table of Contents
- [StockTwits Sentiment Classifier](#stocktwits-sentiment-classifier)
  * [Project Description](#project-description)
    + [Introduction](#introduction)
    + [Methods Used](#methods-used)
    + [Dependencies](#dependencies)
  * [Getting Started](#getting-started)
    + [How to Run](#how-to-run)
    + [Data Storage](#data-storage)
  * [Results](#results)
  * [Read More](#read-more)
  
## Getting Started

### How to Run
1. Clone this repo:
`git clone https://github.com/dang-trung/stocktwits-sentiment-classifier`
2. Create your environment (virtualenv):  
`virtualenv -p python3 venv`  
`source venv/bin/activate` (bash) or `venv\Scripts\activate` (windows)   
`(venv) cd stocktwits-sentiment-classifier`  
`(venv) pip install -e`  
  
    Or (conda):  
`conda env create -f environment.yml`  
`conda activate stocktwits-sentiment-classifier`  
3. Run in terminal:  
`python -m sentiment_classifier`  
    _Note that due to API limits, it will take several days to fully download all 2m+
    cryptocurrencies-related Tweets on StockTwits from 2014 to 2020._

### Data Storage
1. Downloaded messages will be stored in `data/01_raw`.
2. Messages after being processed (so that only information relevant to sentiment) 
will be stored in `data/02_processed`.
3. Vectorized text messages are stored in `data/03_vectorized` (since this file is 
small compared to the files generated by step 1 and 2, I already included this in the [repo](https://github.com/dang-trung/stocktwits-sentiment-classifier/tree/master/data/03_vectorized).)
4. External files (symbols of cryptos & rules for text-processing) are stored in `data/04_external`

## Results
* Model parameters: `ntree=500, max_depth=20, max_samples=0.75`
* Confusion matrix of training set

|                 |         | Actual Classes |         |
|-----------------|---------|----------------|---------|
|                 |         | Bearish        | Bullish |
| Predicted Class | Bearish | 82,208         | 8,426   |
|                 | Bullish | 5,269          | 85,365  |

* Confusion matrix of test set (~74.75% accuracy)

|                 |         | Actual Classes |         |
|-----------------|---------|----------------|---------|
|                 |         | Bearish        | Bullish |
| Predicted Class | Bearish | 82,208         | 8,426   |
|                 | Bullish | 5,269          | 85,365  |

## Read More
For better understanding of the project, kindly read the [report](https://github.com/dang-trung/stocktwits-sentiment-classifier/blob/master/reports/final_report.pdf).

<!-- MARKDOWN LINKS & IMAGES -->
[python-shield]: https://img.shields.io/badge/Python-3.7.9-white?style=social&colorB=555
[python-url]: https://www.python.org/downloads/release/python-379/
[github-shield]: https://img.shields.io/badge/-github-black.svg?style=social&logo=github&colorB=555
[github-url]: https://github.com/dang-trung/
[license-shield]: https://img.shields.io/github/license/othneildrew/Best-README-Template.svg?style=social
[license-url]: https://github.com/dang-trung/stocktwits-sentiment-classifier/blob/master/LICENSE.md
[linkedin-shield]: https://img.shields.io/badge/-LinkedIn-black.svg?style=social&logo=linkedin&colorB=555
[linkedin-url]: https://linkedin.com/in/dang-trung
